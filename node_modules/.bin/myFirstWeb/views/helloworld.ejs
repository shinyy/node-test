<!DOCTYPE html>
<html>
<head>
<title>helloworld</title>
<link rel='stylesheet' href='/stylesheets/style.css' />
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript">
	

	
	//跨域获取json  关键在地址最后加"=?"(不知其所以然)
	//方法一
	// $(function(){
	// 	$.ajax({
	// 		type:"get",
	// 		url:"https://suggest.taobao.com/sug?code=utf-8&q=%E5%8D%AB%E8%A1%A3&callback=?",
	// 		async:true,
	// 		dataType:"json",
	// 		success:function(data){
	// 			console.log(data)
	// 		}
	// 	})
	// })

	
	//方法二
	$.getJSON("https://suggest.taobao.com/sug?code=utf-8&q=%E5%8D%AB%E8%A1%A3&callback=?",function(data){
			console.log(data)
			var txt,x,xx,i;
			txt="<table border=1><tr><th>商品</th><th>编号</th><tr>";
			x=data.result;
			for(i=0;i<x.length;i++){
				xx=x[i][0];
				txt+="<td>"+xx+"</td>";
				xx=x[i][1];
				txt+="<td>"+xx+"</td></tr>";
			};
			txt+="</table>";
			$(".taobao").html(txt)

	});

	$.ajax({
		url:"http://www.tudou.com/tvp/getMultiTvcCodeByAreaCode.action?type=3&app=4&codes=Lqfme5hSolM&areaCode=320500&jsoncallback=?",
		dataType:"jsonp",
		success:function(data){
			var txt,x,i;
			txt="<dl><dt>火影忍者分集</dt>";
			x=data.message;
			for(i=0;i<x.length;i++){
				txt+="<dd>"+x[i].title+"</dd>";
			};
			txt+="</dl>";
			$("#huoying").html(txt);
		}
		
	})

	$(function(){
			$("#btn").click(function(){
			//跨域完全体
			$.ajax({
				url:"https://tcc.taobao.com/cc/json/mobile_tel_segment.htm?tel="+$("#tel").val(),
				dataType:"jsonp",
				success:function(data){
					console.log(data)
					var txt,x,xx,i;
					txt="<table border=1><tr><th>运营商</th><th>归属地</th></tr><tr>";
					x=data.catName;
					txt+="<td>"+x+"</td>";
					x=data.province;
					txt+="<td>"+x+"</td>";
					txt+="</tr></table>";
					$("#telInfo").html(txt);
				}
			})
	})

	})


	
	
</script>
</head>
<body>
<h1>helloworld</h1>
<p>Welcome to helloworld</p>
<div class="taobao"></div>
<div class="tudou"></div>
<p>请输入手机号查询</p>
<input type="text" id="tel"/>
<input type="button" value="确定" id="btn"/>
<div id="telInfo"></div>
<div id="huoying"></div>
</body>
</html>